"use strict";(self.webpackChunkshoetopia=self.webpackChunkshoetopia||[]).push([[488],{3488:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(2483),t=a(9970),i=a(7044),c=a(9891);var n=a(3376),d=a(6723);const o=function(e){var s;let{title:a}=e;const{data:o,...r}=function(){const[e,s]=(0,l.useState)(null),[a,n]=(0,c.ok)(),d=(0,l.useCallback)((async()=>{var l={limit:20,category:"Shoes",division:null===a||void 0===a?void 0:a.get("category"),productCount:20,page:null===e?0:e.nextPage};await t.A.get(i.A.fetchPaginated,{params:l}).then((e=>{s((s=>null===e||null===s?e.data:{products:s.products.concat(e.data.products),nextPage:e.data.nextPage}))})).catch((e=>{console.log(e.message)}))}),[e,null===a||void 0===a?void 0:a.get("category")]),o=(0,l.useCallback)((()=>{s(null)}),[]);return{data:e,fetchAll:d,invalidateData:o}}(),u=(0,n.Zp)(),v=()=>{const e=window.scrollY+window.innerHeight;Math.round(e)<document.body.scrollHeight-200&&Math.round(e)>document.body.scrollHeight-250&&o.nextPage&&(window.removeEventListener("scroll",v),h())},h=(0,l.useCallback)((async()=>{r.fetchAll()}),[r]);return(0,l.useEffect)((()=>(null===o&&h(),window.addEventListener("scroll",v),()=>window.removeEventListener("scroll",v))),[o]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"categoryWrapper",children:[(0,d.jsx)("div",{className:"titleContent",children:(0,d.jsxs)("div",{className:"title",children:[a,"'s Shoes"]})}),(0,d.jsx)("div",{className:"content",children:(0,d.jsx)("div",{className:"productsList",children:null===o||void 0===o||null===(s=o.products)||void 0===s?void 0:s.map((e=>(0,d.jsxs)("div",{className:"productWrapper",onClick:()=>{return s=e._id,void u("/products/".concat(s));var s},children:[(0,d.jsx)("div",{className:"imgCart",children:(0,d.jsx)("img",{loading:"lazy",className:"shoeimg",src:e.imageUrl,alt:e.producName})}),(0,d.jsxs)("div",{className:"shoedetails",children:[(0,d.jsxs)("div",{className:"desc",children:[(0,d.jsx)("div",{className:"productname",children:e.productName}),(0,d.jsx)("div",{className:"division",children:e.division})]}),(0,d.jsxs)("div",{className:"price",children:["$",e.listPrice]})]})]},e._id)))})})]})})}}}]);
//# sourceMappingURL=488.e633ba19.chunk.js.map