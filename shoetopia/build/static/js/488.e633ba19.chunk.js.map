{"version":3,"file":"static/js/488.e633ba19.chunk.js","mappings":"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","sources":["common/ProductsWrapper.js","hooks/paginatedData.js"],"sourcesContent":["import React, { useCallback, useEffect } from \"react\";\r\nimport \"./ProductsWrapper.scss\";\r\nimport { usePaginatedTransactions } from \"../hooks/paginatedData\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction ProductWrapper({ title }) {\r\n  const { data: products, ...productsUtils } = usePaginatedTransactions();\r\n  const navigate = useNavigate();\r\n\r\n  const scroller = () => {\r\n    const scrolledTo = window.scrollY + window.innerHeight;\r\n    var isReachBottom =\r\n      Math.round(scrolledTo) < document.body.scrollHeight - 200 &&\r\n      Math.round(scrolledTo) > document.body.scrollHeight - 250;\r\n    if (isReachBottom) {\r\n      if (products.nextPage) {\r\n        window.removeEventListener(\"scroll\", scroller);\r\n        fetchPaginatedData();\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchPaginatedData = useCallback(async () => {\r\n    productsUtils.fetchAll();\r\n  }, [productsUtils]);\r\n\r\n  function navigateTo(productId) {\r\n    navigate(`/products/${productId}`);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (products === null) {\r\n      fetchPaginatedData();\r\n    }\r\n    window.addEventListener(\"scroll\", scroller);\r\n    return () => window.removeEventListener(\"scroll\", scroller);\r\n  }, [products]);\r\n\r\n  return (\r\n    <>\r\n      {true && (\r\n        <div className=\"categoryWrapper\">\r\n          <div className=\"titleContent\">\r\n            <div className=\"title\">{title}'s Shoes</div>\r\n            {/* <div className=\"filterOptions\">\r\n              <div className=\"hideFilter\">HideFilter</div>\r\n              <div className=\"sortByDropdown\">Dropdown menu</div>\r\n            </div> */}\r\n          </div>\r\n          <div className=\"content\">\r\n            <div className=\"productsList\">\r\n              {products?.products?.map((product) => (\r\n                <div key={product._id} className=\"productWrapper\" onClick={() => navigateTo(product._id)}>\r\n                  <div className=\"imgCart\">\r\n                    <img\r\n                      loading=\"lazy\"\r\n                      className=\"shoeimg\"\r\n                      src={product.imageUrl}\r\n                      alt={product.producName}\r\n                    ></img>\r\n                  </div>\r\n                  <div className=\"shoedetails\">\r\n                    <div className=\"desc\">\r\n                      <div className=\"productname\">{product.productName}</div>\r\n                      <div className=\"division\">{product.division}</div>\r\n                    </div>\r\n                    <div className=\"price\">${product.listPrice}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProductWrapper;\r\n","import { useCallback, useState } from \"react\"\r\n\r\nimport axios from \"../axios\"\r\nimport requests from \"../requests\"\r\nimport { useSearchParams } from \"react-router-dom\"\r\n\r\nexport function usePaginatedTransactions() {\r\n  const [products, setProducts] = useState(null);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  const fetchAll = useCallback(async () => {\r\n    var paginatedObj = {\r\n      limit: 20,\r\n      category: 'Shoes',\r\n      division: searchParams?.get('category'),\r\n      productCount: 20,\r\n      page: products === null ? 0 : products.nextPage\r\n    }\r\n    await axios.get(\r\n      requests.fetchPaginated,\r\n      {params: paginatedObj}\r\n    ).then((res) => {\r\n      setProducts((previousResponse) => {\r\n        if (res === null || previousResponse === null) {\r\n          return res.data\r\n        }\r\n\r\n        const updatedData = previousResponse.products.concat(res.data.products)\r\n        return { products: updatedData, nextPage: res.data.nextPage }\r\n      })\r\n    }).catch((error) => {\r\n      console.log(error.message)\r\n    });\r\n  }, [products, searchParams?.get('category')])\r\n\r\n  const invalidateData = useCallback(() => {\r\n    setProducts(null)\r\n  }, [])\r\n  return { data: products, fetchAll, invalidateData }\r\n}\r\n"],"names":["_ref","_products$products","title","data","products","productsUtils","setProducts","useState","searchParams","setSearchParams","useSearchParams","fetchAll","useCallback","async","paginatedObj","limit","category","division","get","productCount","page","nextPage","axios","requests","fetchPaginated","params","then","res","previousResponse","concat","catch","error","console","log","message","invalidateData","usePaginatedTransactions","navigate","useNavigate","scroller","scrolledTo","window","scrollY","innerHeight","Math","round","document","body","scrollHeight","removeEventListener","fetchPaginatedData","useEffect","addEventListener","_jsx","_Fragment","children","_jsxs","className","map","product","onClick","navigateTo","productId","_id","loading","src","imageUrl","alt","producName","productName","listPrice"],"sourceRoot":""}